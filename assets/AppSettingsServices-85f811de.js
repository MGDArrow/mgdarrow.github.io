import{T as f}from"./TheSwiper-e66cb24f.js";import{_ as u,q as a,o as c,A as _,y as g,a as l,t as E,c as m,v,n as h,F as I,r as D}from"./index-8dccdbd1.js";import{T as $,a as x}from"./TheButton-8bb0d566.js";const w={components:{TheSwiper:f},name:"SettingsServicesPoint",props:["service"],data(){return{swipe:null}},watch:{swipe(t){t=="delete"&&this.$store.dispatch("DELETE_SERVICES",this.$props.service.id),t=="edit"&&this.$emit("getEdit",this.$props.service.id),this.swipe=null}}},y={class:"settings-services__point"};function C(t,e,d,S,s,n){const p=a("the-swiper");return c(),_(p,{onSwipe:e[0]||(e[0]=i=>s.swipe=i)},{default:g(()=>{var i;return[l("div",y,E((i=d.service)==null?void 0:i.name),1)]}),_:1})}const T=u(w,[["render",C]]);const k={name:"SettingsServicesAdd",props:["editID"],components:{TheInputText:$,TheButton:x},data(){return{isOpen:!1,name:""}},methods:{clearForm(){this.isOpen=!this.isOpen,this.name="",this.$emit("clearForm",null)},async addService(){this.$store.dispatch("ADD_SERVICES",{name:this.name}).then(this.clearForm())},async editService(){this.$store.dispatch("EDIT_SERVICES",[{name:this.name},this.$props.editID]).then(this.clearForm())}},watch:{editID(t){if(t){let e=this.$store.getters.GET_SERVICES.find(d=>d.id==t);this.isOpen=!0,this.name=e.name}}}},F={class:"services-add__form"};function V(t,e,d,S,s,n){const p=a("font-awesome-icon"),i=a("the-input-text"),r=a("the-button");return c(),m("div",{class:h(["settings-services__add",{"settings-services__add--open":s.isOpen}])},[l("div",{class:h(["services-add__btn",{"services-add__btn--open":s.isOpen}]),onClick:e[0]||(e[0]=(...o)=>n.clearForm&&n.clearForm(...o))},[v(p,{icon:["fas","plus"],size:"xs"})],2),l("div",F,[v(i,{type:"text",label:"Название",modelValue:s.name,"onUpdate:modelValue":e[1]||(e[1]=o=>s.name=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),d.editID?(c(),_(r,{key:0,text:"Изменить",onClick:e[2]||(e[2]=o=>n.editService())})):(c(),_(r,{key:1,text:"Добавить",onClick:e[3]||(e[3]=o=>n.addService())}))])],2)}const A=u(k,[["render",V]]),O={components:{SettingsServicesPoint:T,SettingsServicesAdd:A},name:"AppSettingsServices",data(){return{editID:null}},watch:{editID(t){t&&(this.$refs.scrollUP.parentElement.scrollTop=0)}},computed:{getServices(){return this.$store.getters.GET_SERVICES}}},b={class:".app-settings__services",ref:"scrollUP"};function B(t,e,d,S,s,n){const p=a("settings-services-add"),i=a("settings-services-point");return c(),m("div",b,[v(p,{editID:s.editID,onClearForm:e[0]||(e[0]=r=>s.editID=r)},null,8,["editID"]),(c(!0),m(I,null,D(n.getServices,r=>(c(),_(i,{key:r.id,service:r,onGetEdit:e[1]||(e[1]=o=>s.editID=o)},null,8,["service"]))),128))],512)}const U=u(O,[["render",B]]);export{U as default};
