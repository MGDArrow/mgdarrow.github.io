import{A as f,a as D,b as E,c as g}from"./AddPayment-89d4e203.js";import{a as x,T as C}from"./TheButton-d4b159c2.js";import{_ as k,q as s,o as l,c as u,a as r,t as a,A as y,v as i}from"./index-a220395f.js";const F={components:{AddServices:f,TheButton:x,AddTime:D,AddTempl:E,TheInputText:C,AddPayment:g},name:"AppFunAdd",data(){return{service:"",time:"",locationTempl:"",locationCemetery:"",locationAddress:"",surname:"",comment:"",payment:!0}},computed:{getDate(){return this.$store.getters.GET_DATE_TODAY_DATE_ADD}},methods:{async addFuneral(){let n=this.$store.getters.GET_USER.user.email;if(n){let e=this.$store.getters.GET_DATE_SUPABASE,p=this.locationTempl&&this.locationTempl!=="Свято-Пантелеимоновский храм (ГБ №2)"?this.locationTempl:!1,d=this.locationTempl==="Свято-Пантелеимоновский храм (ГБ №2)"?!1:null,t=!1;(this.locationTempl||this.locationCemetery||this.locationAddress)&&this.$store.dispatch("ADD_FUNERALS_READ",[{service:this.service.name,date:e,time:this.time,locationTempl:this.locationTempl,locationCemetery:this.locationCemetery,locationAddress:this.locationAddress,surname:this.surname,comment:this.comment,payment:this.payment,templ:p,phoneLocation:d,phoneTempl:t,idUserName:n}]).then(this.clearForm())}else this.$router.replace({path:"/login"})},getLocation(n){this.locationTempl=n.type==="templ"?n.location:"",this.locationCemetery=n.type==="cemetery"?n.location:"",this.locationAddress=n.type==="address"?n.location:""},clearForm(){this.time="",this.locationTempl="",this.locationCemetery="",this.locationAddress="",this.surname="",this.comment="",this.payment=!0}}},V={class:"app__add"},S={key:2,class:"add-funeral"};function B(n,e,p,d,t,m){const _=s("add-services"),h=s("add-time"),A=s("add-templ"),c=s("the-input-text"),T=s("add-payment"),v=s("the-button");return l(),u("div",V,[r("h1",null,a(m.getDate),1),t.service?t.time?(l(),u("div",S,[r("h2",{onClick:e[2]||(e[2]=o=>t.service="")},a(t.service.name),1),r("h2",{onClick:e[3]||(e[3]=o=>t.time="")},a(t.time),1),i(A,{onLocation:e[4]||(e[4]=o=>m.getLocation(o))}),i(c,{label:"Фамилия",type:"text",modelValue:t.surname,"onUpdate:modelValue":e[5]||(e[5]=o=>t.surname=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),i(c,{label:"Комментарий",type:"text",modelValue:t.comment,"onUpdate:modelValue":e[6]||(e[6]=o=>t.comment=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),i(T,{payment:t.payment,onPay:e[7]||(e[7]=o=>t.payment=!t.payment)},null,8,["payment"]),i(v,{text:"Добавить",onClick:e[8]||(e[8]=o=>m.addFuneral())})])):(l(),y(h,{key:1,onGetTime:e[1]||(e[1]=o=>t.time=o)})):(l(),y(_,{key:0,onGetService:e[0]||(e[0]=o=>t.service=o)}))])}const L=k(F,[["render",B]]);export{L as default};
