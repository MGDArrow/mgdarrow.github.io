import{T as g}from"./TheSwiper-ca33f1e7.js";import{u as l}from"./ServicesStore-bf0a47e3.js";import{_ as S,q as p,o as c,A as _,y as x,a as m,t as w,c as v,v as u,n as h,F as D,r as I}from"./index-e125b7d4.js";import{T as $,a as y}from"./TheButton-461b909a.js";const k={components:{TheSwiper:g},name:"SettingsServicesPoint",props:["service"],data(){return{swipe:null}},watch:{swipe(t){t=="delete"&&l().deleteServices(this.$props.service),t=="edit"&&this.$emit("getEdit",this.$props.service.id),this.swipe=null}}},F={class:"settings-services__point"};function C(t,e,d,f,s,n){const a=p("the-swiper");return c(),_(a,{onSwipe:e[0]||(e[0]=i=>s.swipe=i)},{default:x(()=>{var i;return[m("div",F,w((i=d.service)==null?void 0:i.name),1)]}),_:1})}const T=S(k,[["render",C]]);const A={name:"SettingsServicesAdd",props:["editID"],components:{TheInputText:$,TheButton:y},data(){return{isOpen:!1,name:""}},methods:{clearForm(){this.isOpen=!this.isOpen,this.name="",this.$emit("clearForm",null)},addService(){l().postServices({name:this.name}).then(this.clearForm())},editService(){l().putServices({name:this.name},this.$props.editID).then(this.clearForm())}},watch:{editID(t){if(t){let e=l().services.find(d=>d.id==t);this.isOpen=!0,this.name=e.name}}}},O={class:"services-add__form"};function b(t,e,d,f,s,n){const a=p("font-awesome-icon"),i=p("the-input-text"),r=p("the-button");return c(),v("div",{class:h(["settings-services__add",{"settings-services__add--open":s.isOpen}])},[m("div",{class:h(["services-add__btn",{"services-add__btn--open":s.isOpen}]),onClick:e[0]||(e[0]=(...o)=>n.clearForm&&n.clearForm(...o))},[u(a,{icon:["fas","plus"],size:"xs"})],2),m("div",O,[u(i,{type:"text",label:"Название",modelValue:s.name,"onUpdate:modelValue":e[1]||(e[1]=o=>s.name=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),d.editID?(c(),_(r,{key:0,text:"Изменить",onClick:e[2]||(e[2]=o=>n.editService())})):(c(),_(r,{key:1,text:"Добавить",onClick:e[3]||(e[3]=o=>n.addService())}))])],2)}const B=S(A,[["render",b]]),P={components:{SettingsServicesPoint:T,SettingsServicesAdd:B},name:"AppSettingsServices",data(){return{editID:null}},watch:{editID(t){t&&(this.$refs.scrollUP.parentElement.scrollTop=0)}},computed:{getServices(){return l().services}}},E={class:".app-settings__services",ref:"scrollUP"};function U(t,e,d,f,s,n){const a=p("settings-services-add"),i=p("settings-services-point");return c(),v("div",E,[u(a,{editID:s.editID,onClearForm:e[0]||(e[0]=r=>s.editID=r)},null,8,["editID"]),(c(!0),v(D,null,I(n.getServices,r=>(c(),_(i,{key:r.name,service:r,onGetEdit:e[1]||(e[1]=o=>s.editID=o)},null,8,["service"]))),128))],512)}const G=S(P,[["render",U]]);export{G as default};
