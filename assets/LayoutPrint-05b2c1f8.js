import{a as v,u as f,b as F}from"./FuneralsStore-1a142c44.js";import{_ as b,A as m,o,c as i,a as e,t as r,F as u,r as h,S as D,n as g,C as y}from"./index-83f3cc00.js";import{u as w}from"./TemplsStore-58a3d28b.js";import{u as C}from"./ServicesStore-6a2fdfc8.js";const I={name:"LayoutPrint",computed:{...m(v,["getDateForStatistic"]),...m(v,["getCorrectDate"]),...m(w,["templs"]),...m(f,["getFuneralsForStatistic"]),...m(C,["services"]),getDayInMonth(){let t=this.getCorrectDate.year,s=this.getCorrectDate.month;return(new Date(t,s+1,1)-new Date(t,s,1))/864e5},getTemplsDeaneryNic(){return this.templs.filter(s=>s.deanery=="Николаевский")},getTemplsDeaneryTheo(){return this.templs.filter(s=>s.deanery=="Богоявленский")},getFuneralsAllMonth(){return this.getFuneralsForStatistic.filter(a=>!!a.payment).length},getFuneralsAllMonthWithoutPayment(){return this.getFuneralsForStatistic.filter(a=>!a.payment).length},getLocationTempls(){return this.getFuneralsForStatistic.filter(a=>!!a.locationTempl&&a.locationTempl!=="Свято-Пантелеимоновский храм (ГБ №2)").length},getLocation2b(){return this.getFuneralsForStatistic.filter(a=>a.locationTempl==="Свято-Пантелеимоновский храм (ГБ №2)").length},getLocationCemeterys(){return this.getFuneralsForStatistic.filter(a=>!!a.locationCemetery).length},getLocationAddress(){return this.getFuneralsForStatistic.filter(a=>!!a.locationAddress).length}},methods:{getWeekDay(t){let s=new Date(this.getCorrectDate.year,this.getCorrectDate.month,t).getDay();return F[s]},addZero(t){return t<10?`0${t}`:t},getFuneralsTempl(t){return this.getFuneralsForStatistic.filter(_=>_.templ===t&&!!_.payment)},getFuneralsInDate(t,s){let a=this.getFuneralsTempl(t),_=this.getCorrectDate;return _=`${_.year}-${this.addZero(_.month+1)}-${this.addZero(s)}`,a.filter(l=>l.date===_)},getFuneralsCount(t,s){let a=this.getFuneralsInDate(t,s).length;return a||""},getFuneralsCount2b(t,s){return this.getFuneralsInDate(t,s).filter(c=>c.locationTempl==="Свято-Пантелеимоновский храм (ГБ №2)").length},getFuneralsCountCemetery(t,s){return this.getFuneralsInDate(t,s).filter(c=>!!c.locationCemetery).length},getFuneralsCountAddress(t,s){return this.getFuneralsInDate(t,s).filter(c=>!!c.locationAddress).length},getFuneralsAll(t){let s=this.getFuneralsTempl(t).length;return s||0},getFuneralsPercent(t){let s=this.getFuneralsTempl(t).length,a=0;return this.getFuneralsTempl(t).length&&(a=100/(this.getFuneralsForStatistic.length/s),a=Math.round(a*10)/10),a},getFuneralsInDay(t){let s=this.getFuneralsForStatistic,a=this.getCorrectDate;return a=`${a.year}-${this.addZero(a.month+1)}-${this.addZero(t)}`,s.filter(c=>c.date===a&&c.payment).length},getServicesAll(t){return this.getFuneralsForStatistic.filter(_=>_.service==t).length}},mounted(){}},T={class:"print__blank"},A={class:"blank__table"},S={class:"table__head"},k={class:"table-head__name"},L={class:"table-head__days"},p={class:"head-days__number"},M={class:"head-days__week"},P=e("div",{class:"table-head__all-in-templ"},"Всего",-1),x=e("div",{class:"table-head__percent"},"%",-1),W={class:"table__body"},N=e("div",{class:"table__deanery"},"Николаевский округ",-1),Z={class:"row__templ"},B={class:"row__data"},V={class:"row__all"},j={class:"row__percent"},z={class:"table__body"},E=e("div",{class:"table__deanery"},"Богоявленский округ",-1),q={class:"row__templ"},G={class:"row__data"},H={class:"row__all"},J={class:"row__percent"},K={class:"table__bottom"},O=e("div",{class:"table-bottom__name"},"Всего за месяц:",-1),Q={class:"table-bottom__days"},R={class:"head-bottom__number"},U={class:"table-bottom__all-all"},X={class:"table-bottom__bo"},Y={class:"blanks"},$={class:"blank__table-services"},ee=e("div",{class:"table-services__name"},"Ритуальные услуги",-1),te={class:"services__name"},se={class:"services__count"},ae={class:"blank__table-location"},le=e("div",{class:"table-location__name"},"Местоположение",-1),ne={class:"table-location__row"},re=e("div",{class:"location-row__name"},"В храмах",-1),oe={class:"location-row__count"},ie={class:"table-location__row"},_e=e("div",{class:"location-row__name"},"На ГБ №2",-1),de={class:"location-row__count"},ce={class:"table-location__row"},ue=e("div",{class:"location-row__name"},"На кладбищах",-1),he={class:"location-row__count"},ge={class:"table-location__row"},me=e("div",{class:"location-row__name"},"По адресам",-1),ve={class:"location-row__count"},ye=D('<div class="blank__table-legend"><div class="table-legend__name">Легенда</div><div class="table-legend__row"><div class="legend-row__name">На 2-й больнице</div><div class="legend-row__count legend-2b"></div></div><div class="table-legend__row"><div class="legend-row__name">На кладбище</div><div class="legend-row__count legend-cemetery"></div></div><div class="table-legend__row"><div class="legend-row__name">На адресе</div><div class="legend-row__count legend-address"></div></div></div>',1);function fe(t,s,a,_,c,l){return o(),i("div",T,[e("div",A,[e("div",S,[e("div",k,r(this.getDateForStatistic),1),e("div",L,[e("div",p,[(o(!0),i(u,null,h(l.getDayInMonth,n=>(o(),i("div",{key:n.index},r(n),1))),128))]),e("div",M,[(o(!0),i(u,null,h(l.getDayInMonth,n=>(o(),i("div",{key:n.index,class:g({"js-weekSunday":l.getWeekDay(n)=="Вс"})},r(l.getWeekDay(n)),3))),128))])]),P,x]),e("div",W,[N,(o(!0),i(u,null,h(l.getTemplsDeaneryNic,n=>(o(),i("div",{class:"row",key:n.id},[e("div",Z,r(n.name),1),e("div",B,[(o(!0),i(u,null,h(l.getDayInMonth,d=>(o(),i("div",{class:"row-data__cell",key:d.index},[e("div",{class:g({"row-data__cell--2b":l.getFuneralsCount2b(n.name,d)})},null,2),e("div",{class:g({"row-data__cell--cemetery":l.getFuneralsCountCemetery(n.name,d)})},null,2),e("div",{class:g({"row-data__cell--address":l.getFuneralsCountAddress(n.name,d)})},null,2),y(" "+r(l.getFuneralsCount(n.name,d)),1)]))),128))]),e("div",V,r(l.getFuneralsAll(n.name)),1),e("div",j,r(l.getFuneralsPercent(n.name))+"%",1)]))),128))]),e("div",z,[E,(o(!0),i(u,null,h(l.getTemplsDeaneryTheo,n=>(o(),i("div",{class:"row",key:n.id},[e("div",q,r(n.name),1),e("div",G,[(o(!0),i(u,null,h(l.getDayInMonth,d=>(o(),i("div",{class:"row-data__cell",key:d.index},[e("div",{class:g({"row-data__cell--2b":l.getFuneralsCount2b(n.name,d)})},null,2),e("div",{class:g({"row-data__cell--cemetery":l.getFuneralsCountCemetery(n.name,d)})},null,2),e("div",{class:g({"row-data__cell--address":l.getFuneralsCountAddress(n.name,d)})},null,2),y(" "+r(l.getFuneralsCount(n.name,d)),1)]))),128))]),e("div",H,r(l.getFuneralsAll(n.name)),1),e("div",J,r(l.getFuneralsPercent(n.name))+"%",1)]))),128))]),e("div",K,[O,e("div",Q,[e("div",R,[(o(!0),i(u,null,h(l.getDayInMonth,n=>(o(),i("div",{key:n.index},r(l.getFuneralsInDay(n)),1))),128))])]),e("div",U,r(l.getFuneralsAllMonth),1),e("div",X,r(l.getFuneralsAllMonthWithoutPayment)+" б/о ",1)])]),e("div",Y,[e("div",$,[ee,(o(!0),i(u,null,h(this.services,n=>(o(),i("div",{class:"row-services",key:n.id},[e("div",te,r(n.name),1),e("div",se,r(l.getServicesAll(n.name)),1)]))),128))]),e("div",ae,[le,e("div",ne,[re,e("div",oe,r(l.getLocationTempls),1)]),e("div",ie,[_e,e("div",de,r(l.getLocation2b),1)]),e("div",ce,[ue,e("div",he,r(l.getLocationCemeterys),1)]),e("div",ge,[me,e("div",ve,r(l.getLocationAddress),1)])]),ye])])}const Ce=b(I,[["render",fe]]);export{Ce as default};
