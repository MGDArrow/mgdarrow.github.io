"use strict";(self["webpackChunkfunerals_ru"]=self["webpackChunkfunerals_ru"]||[]).push([[900],{27:function(e,t,s){s.d(t,{Z:function(){return d}});var i=s(3396);const l=["value"];function n(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("input",{type:"button",value:s.text},null,8,l)}var a={name:"TheButton",props:["text"]},o=s(89);const r=(0,o.Z)(a,[["render",n],["__scopeId","data-v-089df75f"]]);var d=r},3132:function(e,t,s){s.d(t,{Z:function(){return u}});var i=s(3396),l=s(7139);const n={class:"input-block"},a=["type","value"];function o(e,t,s,o,r,d){return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("label",{class:(0,l.C_)({"input--is-focus":r.isFocus,"input--is-text":s.modelValue||0===s.modelValue,"input--is-valid":s.dirty&&!r.isFocus&&s.valid,"input--is-invalid":s.dirty&&!r.isFocus&&!s.valid})},[(0,i.Uk)((0,l.zw)(d.labelText)+" ",1),(0,i._)("input",{type:s.type,value:s.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),onFocus:t[1]||(t[1]=e=>r.isFocus=!0),onBlur:t[2]||(t[2]=t=>{r.isFocus=!1,e.$emit("blur",!0)})},null,40,a)],2)])}var r={name:"TheInputText",props:["type","label","dirty","valid","labelInvalid","modelValue"],data(){return{isFocus:!1}},computed:{labelText(){return this.$props.labelInvalid&&!this.isFocus&&this.$props.dirty?`Заполните поле "${this.$props.label}"`:this.$props.label}}},d=s(89);const p=(0,d.Z)(r,[["render",o]]);var u=p},7285:function(e,t,s){s.d(t,{Z:function(){return m}});var i=s(3396);const l={class:"js-swiper",ref:"swiperBlock"},n={class:"js-swiper__delete",ref:"delete"},a={class:"js-swiper__edit",ref:"edit"},o={class:"js-swiper__main",ref:"swiper"};function r(e,t,s,r,d,p){const u=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",n,[(0,i.Wm)(u,{icon:["fas","trash"]})],512),(0,i._)("div",a,[(0,i.Wm)(u,{icon:["fas","pencil"]})],512),(0,i._)("div",o,[(0,i.WI)(e.$slots,"default")],512)],512)}var d={name:"TheSwiper",mounted(){let e,t,s,i,l=this.$refs.swiper,n=null;l.addEventListener("touchstart",(i=>{e=l.offsetWidth,t=i.touches[0].clientX,s=i.touches[0].clientY,l.style.transition="none",this.$refs.delete.style.transition="none",this.$refs.edit.style.transition="none",this.$refs.edit.style.height=`${l.clientHeight}px`,this.$refs.delete.style.height=`${l.clientHeight}px`})),l.addEventListener("touchmove",(a=>{let o=a.touches[0].clientX,r=a.touches[0].clientY;i=o-t,n=r-s,Math.abs(i)>e/8&&Math.abs(i)>2*Math.abs(n)&&(l.style.translate=i<0?`${i+e/8}px`:i-e/8+"px",i>0?(this.$refs.delete.style.width=Math.abs(i)-e/8+"px",this.$refs.edit.style.width="0px"):(this.$refs.delete.style.width="0px",this.$refs.edit.style.width=Math.abs(i)-e/8+"px"),e/1.3<Math.abs(i)?(this.$refs.delete.style.opacity="1",this.$refs.edit.style.opacity="1"):(this.$refs.delete.style.opacity="0.8",this.$refs.edit.style.opacity="0.8"))})),l.addEventListener("touchend",(()=>{e/1.3<Math.abs(i)?i<0?(l.style.transition="0.4s ease-in-out",l.style.translate="0px",this.$refs.edit.style.transition="0.4s ease-in-out",this.$refs.edit.style.width="0px",this.$emit("swipe","edit")):(l.style.transition="0.4s ease-in-out",l.style.translate=`${e}px`,this.$refs.delete.style.transition="0.4s ease-in-out",this.$refs.delete.style.width=`${e}px`,this.$refs.swiperBlock.style.height=`${l.offsetHeight+5}px`,this.$refs.swiperBlock.style.transition="0.4s ease-in-out",setTimeout((()=>{this.$refs.swiperBlock.style.height="0px"}),100),this.$emit("swipe","delete")):(l.style.transition="0.4s ease-in-out",l.style.translate="0px",this.$refs.delete.style.transition="0.4s ease-in-out",this.$refs.delete.style.width="0px",this.$refs.edit.style.transition="0.4s ease-in-out",this.$refs.edit.style.width="0px")}))}},p=s(89);const u=(0,p.Z)(d,[["render",r]]);var m=u},1900:function(e,t,s){s.r(t),s.d(t,{default:function(){return E}});var i=s(3396);const l={class:".app-settings__templs",ref:"scrollUP"};function n(e,t,s,n,a,o){const r=(0,i.up)("settings-templs-add"),d=(0,i.up)("settings-templs-point");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(r,{editID:a.editID,onClearForm:t[0]||(t[0]=e=>a.editID=e)},null,8,["editID"]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.getTempls,(e=>((0,i.wg)(),(0,i.j4)(d,{key:e.id,templ:e,onGetEdit:t[1]||(t[1]=e=>a.editID=e)},null,8,["templ"])))),128))],512)}var a=s(7139);const o={class:"templs-add__form"};function r(e,t,s,l,n,r){const d=(0,i.up)("font-awesome-icon"),p=(0,i.up)("the-input-text"),u=(0,i.up)("the-button");return(0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["settings-templs__add",{"settings-templs__add--open":n.isOpen}])},[(0,i._)("div",{class:(0,a.C_)(["templs-add__btn",{"templs-add__btn--open":n.isOpen}]),onClick:t[0]||(t[0]=(...e)=>r.clearForm&&r.clearForm(...e))},[(0,i.Wm)(d,{icon:["fas","plus"],size:"xs"})],2),(0,i._)("div",o,[(0,i.Wm)(p,{type:"text",label:"Название",modelValue:n.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.name=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,i.Wm)(p,{type:"text",label:"Настоятель",modelValue:n.abbot,"onUpdate:modelValue":t[2]||(t[2]=e=>n.abbot=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,i.Wm)(p,{type:"text",label:"Район",modelValue:n.label,"onUpdate:modelValue":t[3]||(t[3]=e=>n.label=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,i.Wm)(p,{type:"number",label:"Количество отпеваний",modelValue:n.minFun,"onUpdate:modelValue":t[4]||(t[4]=e=>n.minFun=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),s.editID?((0,i.wg)(),(0,i.j4)(u,{key:0,text:"Изменить",onClick:t[5]||(t[5]=e=>r.editTempl())})):((0,i.wg)(),(0,i.j4)(u,{key:1,text:"Добавить",onClick:t[6]||(t[6]=e=>r.addTempl())}))])],2)}var d=s(27),p=s(3132),u={name:"SettingsTemplsAdd",props:["editID"],components:{TheInputText:p.Z,TheButton:d.Z},data(){return{isOpen:!1,name:"",abbot:"",label:"",minFun:void 0}},methods:{clearForm(){this.isOpen=!this.isOpen,this.name="",this.abbot="",this.label="",this.minFun=void 0,this.$emit("clearForm",null)},async addTempl(){this.$store.dispatch("ADD_TEMPLS",{name:this.name,abbot:this.abbot,label:this.label,minFun:this.minFun}).then(this.clearForm())},async editTempl(){this.$store.dispatch("EDIT_TEMPLS",[{name:this.name,abbot:this.abbot,label:this.label,minFun:this.minFun},this.$props.editID]).then(this.clearForm())}},watch:{editID(e){if(e){let t=this.$store.getters.GET_TEMPLS.find((t=>t.id==e));this.isOpen=!0,this.name=t.name,this.abbot=t.abbot,this.label=t.label,this.minFun=t.minFun}}}},m=s(89);const h=(0,m.Z)(u,[["render",r]]);var c=h;const f={class:"settings-templs__point"},b={class:"templs-point__name"},_={class:"templs-point__abbot-label"},y={class:"templs-point__abbot"},w={class:"templs-point__label"},$={class:"templs-point__min-fun"};function v(e,t,s,l,n,o){const r=(0,i.up)("the-swiper");return(0,i.wg)(),(0,i.j4)(r,{onSwipe:t[0]||(t[0]=e=>n.swipe=e)},{default:(0,i.w5)((()=>[(0,i._)("div",f,[(0,i._)("div",b,(0,a.zw)(s.templ?.name),1),(0,i._)("div",_,[(0,i._)("div",y,(0,a.zw)(s.templ?.abbot),1),(0,i._)("div",w,(0,a.zw)(s.templ?.label),1)]),(0,i._)("div",$,(0,a.zw)(s.templ?.minFun),1)])])),_:1})}var g=s(7285),T={components:{TheSwiper:g.Z},name:"SettingsTemplsPoint",props:["templ"],data(){return{swipe:null}},watch:{swipe(e){"delete"==e&&this.$store.dispatch("DELETE_TEMPLS",this.$props.templ.id),"edit"==e&&this.$emit("getEdit",this.$props.templ.id),this.swipe=null}}};const x=(0,m.Z)(T,[["render",v]]);var F=x,D={components:{SettingsTemplsAdd:c,SettingsTemplsPoint:F},name:"AppSettingsTempls",data(){return{editID:null}},watch:{editID(e){e&&(this.$refs.scrollUP.parentElement.scrollTop=0)}},computed:{getTempls(){return this.$store.getters.GET_TEMPLS}}};const I=(0,m.Z)(D,[["render",n]]);var E=I}}]);
//# sourceMappingURL=900.b31ce9a9.js.map