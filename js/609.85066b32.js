"use strict";(self["webpackChunkfunerals_ru"]=self["webpackChunkfunerals_ru"]||[]).push([[609],{4222:function(e,t,o){o.r(t),o.d(t,{default:function(){return A}});var i=o(3396),n=o(7139);const a={class:"app__add"},s={key:2,class:"add-funeral"};function l(e,t,o,l,m,r){const c=(0,i.up)("add-services"),d=(0,i.up)("add-time"),p=(0,i.up)("add-templ"),u=(0,i.up)("the-input-text"),h=(0,i.up)("add-payment"),y=(0,i.up)("the-button");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("h1",null,(0,n.zw)(r.getDate),1),m.service?m.time?((0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("h2",{onClick:t[2]||(t[2]=e=>m.service="")},(0,n.zw)(m.service.name),1),(0,i._)("h2",{onClick:t[3]||(t[3]=e=>m.time="")},(0,n.zw)(m.time),1),(0,i.Wm)(p,{onLocation:t[4]||(t[4]=e=>r.getLocation(e))}),(0,i.Wm)(u,{label:"Фамилия",type:"text",modelValue:m.surname,"onUpdate:modelValue":t[5]||(t[5]=e=>m.surname=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,i.Wm)(u,{label:"Комментарий",type:"text",modelValue:m.comment,"onUpdate:modelValue":t[6]||(t[6]=e=>m.comment=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,i.Wm)(h,{payment:m.payment,onPay:t[7]||(t[7]=e=>m.payment=!m.payment)},null,8,["payment"]),(0,i.Wm)(y,{text:"Добавить",onClick:t[8]||(t[8]=e=>r.addFuneral())})])):((0,i.wg)(),(0,i.j4)(d,{key:1,onGetTime:t[1]||(t[1]=e=>m.time=e)})):((0,i.wg)(),(0,i.j4)(c,{key:0,onGetService:t[0]||(t[0]=e=>m.service=e)}))])}var m=o(4519),r=o(709),c=o(27),d=o(4504),p=o(3132),u=o(1482),h={components:{AddServices:m.Z,TheButton:c.Z,AddTime:r.Z,AddTempl:d.Z,TheInputText:p.Z,AddPayment:u.Z},name:"AppFunAdd",data(){return{service:"",time:"",locationTempl:"",locationCemetery:"",locationAddress:"",surname:"",comment:"",payment:!0}},computed:{getDate(){return this.$store.getters.GET_DATE_TODAY_DATE_ADD}},methods:{async addFuneral(){let e=this.$store.getters.GET_USER.user.email;if(e){let t=this.$store.getters.GET_DATE_SUPABASE,o=!(!this.locationTempl||"Свято-Пантелеимоновский храм (ГБ №2)"===this.locationTempl)&&this.locationTempl,i="Свято-Пантелеимоновский храм (ГБ №2)"!==this.locationTempl&&null,n=!1;(this.locationTempl||this.locationCemetery||this.locationAddress)&&this.$store.dispatch("ADD_FUNERALS_READ",[{service:this.service.name,date:t,time:this.time,locationTempl:this.locationTempl,locationCemetery:this.locationCemetery,locationAddress:this.locationAddress,surname:this.surname,comment:this.comment,payment:this.payment,templ:o,phoneLocation:i,phoneTempl:n,idUserName:e}]).then(this.clearForm())}else this.$router.replace({path:"/login"})},getLocation(e){this.locationTempl="templ"===e.type?e.location:"",this.locationCemetery="cemetery"===e.type?e.location:"",this.locationAddress="address"===e.type?e.location:""},clearForm(){this.time="",this.locationTempl="",this.locationCemetery="",this.locationAddress="",this.surname="",this.comment="",this.payment=!0}}},y=o(89);const T=(0,y.Z)(h,[["render",l]]);var A=T}}]);
//# sourceMappingURL=609.85066b32.js.map