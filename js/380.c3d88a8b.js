"use strict";(self["webpackChunkfunerals_ru"]=self["webpackChunkfunerals_ru"]||[]).push([[380],{27:function(e,r,t){t.d(r,{Z:function(){return u}});var a=t(3396);const n=["value"];function s(e,r,t,s,i,o){return(0,a.wg)(),(0,a.iD)("input",{type:"button",value:t.text},null,8,n)}var i={name:"TheButton",props:["text"]},o=t(89);const l=(0,o.Z)(i,[["render",s],["__scopeId","data-v-089df75f"]]);var u=l},3132:function(e,r,t){t.d(r,{Z:function(){return c}});var a=t(3396),n=t(7139);const s={class:"input-block"},i=["type","value"];function o(e,r,t,o,l,u){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("label",{class:(0,n.C_)({"input--is-focus":l.isFocus,"input--is-text":t.modelValue||0===t.modelValue,"input--is-valid":t.dirty&&!l.isFocus&&t.valid,"input--is-invalid":t.dirty&&!l.isFocus&&!t.valid})},[(0,a.Uk)((0,n.zw)(u.labelText)+" ",1),(0,a._)("input",{type:t.type,value:t.modelValue,onInput:r[0]||(r[0]=r=>e.$emit("update:modelValue",r.target.value)),onFocus:r[1]||(r[1]=e=>l.isFocus=!0),onBlur:r[2]||(r[2]=r=>{l.isFocus=!1,e.$emit("blur",!0)})},null,40,i)],2)])}var l={name:"TheInputText",props:["type","label","dirty","valid","labelInvalid","modelValue"],data(){return{isFocus:!1}},computed:{labelText(){return this.$props.labelInvalid&&!this.isFocus&&this.$props.dirty?`Заполните поле "${this.$props.label}"`:this.$props.label}}},u=t(89);const d=(0,u.Z)(l,[["render",o]]);var c=d},5380:function(e,r,t){t.r(r),t.d(r,{default:function(){return ke}});var a=t(3396),n=t(7139);const s={class:"log-reg"};function i(e,r,t,i,o,l){const u=(0,a.up)("login-reg-log"),d=(0,a.up)("login-reg-reg"),c=(0,a.up)("login-reg-nav");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(u,{class:(0,n.C_)(["log-reg__login",{"js-log-reg--active":!o.isReg}])},null,8,["class"]),(0,a.Wm)(d,{class:(0,n.C_)(["log-reg__registration",{"js-log-reg--active":o.isReg}])},null,8,["class"]),(0,a.Wm)(c,{class:"log-reg__nav",onIsReg:r[0]||(r[0]=e=>o.isReg=e)})])}const o={class:"log-reg__nav--inside"};function l(e,r,t,s,i,l){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",{class:(0,n.C_)(["switch",{"js-switch--is-reg":i.isReg}])},null,2),(0,a._)("div",{onClick:r[0]||(r[0]=e=>i.isReg=!1)},"Авторизация"),(0,a._)("div",{onClick:r[1]||(r[1]=e=>i.isReg=!0)},"Регистрация")])}var u={name:"LoginRegNav",data(){return{isReg:!1}},watch:{isReg(e){this.$emit("isReg",e)}}},d=t(89);const c=(0,d.Z)(u,[["render",l]]);var $=c,v=t(9242);const p={class:"log-reg__login--inside"},m=(0,a._)("h1",null,"Авторизация",-1);function g(e,r,t,n,s,i){const o=(0,a.up)("input-text"),l=(0,a.up)("the-button"),u=(0,a.up)("login-reg-errors");return(0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("form",{onSubmit:r[3]||(r[3]=(0,v.iM)((e=>i.singIn()),["prevent"]))},[m,(0,a.Wm)(o,{type:"email",label:"E-mail",modelValue:s.email,"onUpdate:modelValue":r[0]||(r[0]=e=>s.email=e),modelModifiers:{trim:!0},dirty:n.v$.email.$dirty,valid:n.v$.email.required.$response&&n.v$.email.email.$response,labelInvalid:!n.v$.email.required.$response},null,8,["modelValue","dirty","valid","labelInvalid"]),(0,a.Wm)(o,{type:"password",label:"Пароль",modelValue:s.password,"onUpdate:modelValue":r[1]||(r[1]=e=>s.password=e),modelModifiers:{trim:!0},dirty:n.v$.password.$dirty,valid:n.v$.password.required.$response&&n.v$.password.minLength.$response,labelInvalid:!n.v$.password.required.$response},null,8,["modelValue","dirty","valid","labelInvalid"]),(0,a.Wm)(l,{text:"Войти",onClick:r[2]||(r[2]=e=>i.singIn())})],32),(0,a.Wm)(u,{errors:s.errors},null,8,["errors"])])}t(7658);var h=t(3132),f=t(27);const y={class:"log-reg__errors"};function w(e,r,t,s,i,o){return(0,a.wg)(),(0,a.iD)("ul",y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$props.errors,((e,r)=>((0,a.wg)(),(0,a.iD)("li",{key:r},(0,n.zw)(e),1)))),128))])}var b={props:["errors"],name:"LoginRegErrors"};const O=(0,d.Z)(b,[["render",w]]);var x=O,j=t(4870);function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function R(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach((function(r){E(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function E(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function S(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce(((t,a)=>(r.includes(a)||(t[a]=(0,j.SU)(e[a])),t)),{})}function U(e){return"function"===typeof e}function C(e){return(0,j.PG)(e)||(0,j.$y)(e)}function L(e,r,t){let a=e;const n=r.split(".");for(let s=0;s<n.length;s++){if(!a[n[s]])return t;a=a[n[s]]}return a}function P(e,r,t){return(0,a.Fl)((()=>e.some((e=>L(r,e,{[t]:!1})[t]))))}function F(e,r,t){return(0,a.Fl)((()=>e.reduce(((e,a)=>{const n=L(r,a,{[t]:!1})[t]||[];return e.concat(n)}),[])))}function V(e,r,t,a){return e.call(a,(0,j.SU)(r),(0,j.SU)(t),a)}function I(e){return void 0!==e.$valid?!e.$valid:!e}function k(e,r,t,n,s,i,o){let{$lazy:l,$rewardEarly:u}=s,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],c=arguments.length>8?arguments[8]:void 0,$=arguments.length>9?arguments[9]:void 0,v=arguments.length>10?arguments[10]:void 0;const p=(0,j.iH)(!!n.value),m=(0,j.iH)(0);t.value=!1;const g=(0,a.YP)([r,n].concat(d,v),(()=>{if(l&&!n.value||u&&!$.value&&!t.value)return;let a;try{a=V(e,r,c,o)}catch(s){a=Promise.reject(s)}m.value++,t.value=!!m.value,p.value=!1,Promise.resolve(a).then((e=>{m.value--,t.value=!!m.value,i.value=e,p.value=I(e)})).catch((e=>{m.value--,t.value=!!m.value,i.value=e,p.value=!0}))}),{immediate:!0,deep:"object"===typeof r});return{$invalid:p,$unwatch:g}}function q(e,r,t,n,s,i,o,l){let{$lazy:u,$rewardEarly:d}=n;const c=()=>({}),$=(0,a.Fl)((()=>{if(u&&!t.value||d&&!l.value)return!1;let a=!0;try{const t=V(e,r,o,i);s.value=t,a=I(t)}catch(n){s.value=n}return a}));return{$unwatch:c,$invalid:$}}function D(e,r,t,n,s,i,o,l,u,d,c){const $=(0,j.iH)(!1),v=e.$params||{},p=(0,j.iH)(null);let m,g;e.$async?({$invalid:m,$unwatch:g}=k(e.$validator,r,$,t,n,p,s,e.$watchTargets,u,d,c)):({$invalid:m,$unwatch:g}=q(e.$validator,r,t,n,p,s,u,d));const h=e.$message,f=U(h)?(0,a.Fl)((()=>h(S({$pending:$,$invalid:m,$params:S(v),$model:r,$response:p,$validator:i,$propertyPath:l,$property:o})))):h||"";return{$message:f,$params:v,$pending:$,$invalid:m,$response:p,$unwatch:g}}function T(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,j.SU)(e),t=Object.keys(r),a={},n={},s={};let i=null;return t.forEach((e=>{const t=r[e];switch(!0){case U(t.$validator):a[e]=t;break;case U(t):a[e]={$validator:t};break;case"$validationGroups"===e:i=t;break;case e.startsWith("$"):s[e]=t;break;default:n[e]=t}})),{rules:a,nestedValidators:n,config:s,validationGroups:i}}const A="__root";function z(e,r,t,n,s,i,o,l,u){const d=Object.keys(e),c=n.get(s,e),$=(0,j.iH)(!1),v=(0,j.iH)(!1),p=(0,j.iH)(0);if(c){if(!c.$partial)return c;c.$unwatch(),$.value=c.$dirty.value}const m={$dirty:$,$path:s,$touch:()=>{$.value||($.value=!0)},$reset:()=>{$.value&&($.value=!1)},$commit:()=>{}};return d.length?(d.forEach((a=>{m[a]=D(e[a],r,m.$dirty,i,o,a,t,s,u,v,p)})),m.$externalResults=(0,a.Fl)((()=>l.value?[].concat(l.value).map(((e,r)=>({$propertyPath:s,$property:t,$validator:"$externalResults",$uid:`${s}-externalResult-${r}`,$message:e,$params:{},$response:null,$pending:!1}))):[])),m.$invalid=(0,a.Fl)((()=>{const e=d.some((e=>(0,j.SU)(m[e].$invalid)));return v.value=e,!!m.$externalResults.value.length||e})),m.$pending=(0,a.Fl)((()=>d.some((e=>(0,j.SU)(m[e].$pending))))),m.$error=(0,a.Fl)((()=>!!m.$dirty.value&&(m.$pending.value||m.$invalid.value))),m.$silentErrors=(0,a.Fl)((()=>d.filter((e=>(0,j.SU)(m[e].$invalid))).map((e=>{const r=m[e];return(0,j.qj)({$propertyPath:s,$property:t,$validator:e,$uid:`${s}-${e}`,$message:r.$message,$params:r.$params,$response:r.$response,$pending:r.$pending})})).concat(m.$externalResults.value))),m.$errors=(0,a.Fl)((()=>m.$dirty.value?m.$silentErrors.value:[])),m.$unwatch=()=>d.forEach((e=>{m[e].$unwatch()})),m.$commit=()=>{v.value=!0,p.value=Date.now()},n.set(s,e,m),m):(c&&n.set(s,e,m),m)}function W(e,r,t,a,n,s,i){const o=Object.keys(e);return o.length?o.reduce(((o,l)=>(o[l]=H({validations:e[l],state:r,key:l,parentKey:t,resultsCache:a,globalConfig:n,instance:s,externalResults:i}),o)),{}):{}}function Z(e,r,t){const n=(0,a.Fl)((()=>[r,t].filter((e=>e)).reduce(((e,r)=>e.concat(Object.values((0,j.SU)(r)))),[]))),s=(0,a.Fl)({get(){return e.$dirty.value||!!n.value.length&&n.value.every((e=>e.$dirty))},set(r){e.$dirty.value=r}}),i=(0,a.Fl)((()=>{const r=(0,j.SU)(e.$silentErrors)||[],t=n.value.filter((e=>((0,j.SU)(e).$silentErrors||[]).length)).reduce(((e,r)=>e.concat(...r.$silentErrors)),[]);return r.concat(t)})),o=(0,a.Fl)((()=>{const r=(0,j.SU)(e.$errors)||[],t=n.value.filter((e=>((0,j.SU)(e).$errors||[]).length)).reduce(((e,r)=>e.concat(...r.$errors)),[]);return r.concat(t)})),l=(0,a.Fl)((()=>n.value.some((e=>e.$invalid))||(0,j.SU)(e.$invalid)||!1)),u=(0,a.Fl)((()=>n.value.some((e=>(0,j.SU)(e.$pending)))||(0,j.SU)(e.$pending)||!1)),d=(0,a.Fl)((()=>n.value.some((e=>e.$dirty))||n.value.some((e=>e.$anyDirty))||s.value)),c=(0,a.Fl)((()=>!!s.value&&(u.value||l.value))),$=()=>{e.$touch(),n.value.forEach((e=>{e.$touch()}))},v=()=>{e.$commit(),n.value.forEach((e=>{e.$commit()}))},p=()=>{e.$reset(),n.value.forEach((e=>{e.$reset()}))};return n.value.length&&n.value.every((e=>e.$dirty))&&$(),{$dirty:s,$errors:o,$invalid:l,$anyDirty:d,$error:c,$pending:u,$touch:$,$reset:p,$silentErrors:i,$commit:v}}function H(e){let{validations:r,state:t,key:n,parentKey:s,childResults:i,resultsCache:o,globalConfig:l={},instance:u,externalResults:d}=e;const c=s?`${s}.${n}`:n,{rules:$,nestedValidators:v,config:p,validationGroups:m}=T(r),g=R(R({},l),p),h=n?(0,a.Fl)((()=>{const e=(0,j.SU)(t);return e?(0,j.SU)(e[n]):void 0})):t,f=R({},(0,j.SU)(d)||{}),y=(0,a.Fl)((()=>{const e=(0,j.SU)(d);return n?e?(0,j.SU)(e[n]):void 0:e})),w=z($,h,n,o,c,g,u,y,t),b=W(v,h,c,o,g,u,y),O={};m&&Object.entries(m).forEach((e=>{let[r,t]=e;O[r]={$invalid:P(t,b,"$invalid"),$error:P(t,b,"$error"),$pending:P(t,b,"$pending"),$errors:F(t,b,"$errors"),$silentErrors:F(t,b,"$silentErrors")}}));const{$dirty:x,$errors:_,$invalid:E,$anyDirty:S,$error:U,$pending:C,$touch:L,$reset:V,$silentErrors:I,$commit:k}=Z(w,b,i),q=n?(0,a.Fl)({get:()=>(0,j.SU)(h),set:e=>{x.value=!0;const r=(0,j.SU)(t),a=(0,j.SU)(d);a&&(a[n]=f[n]),(0,j.dq)(r[n])?r[n].value=e:r[n]=e}}):null;async function D(){return L(),g.$rewardEarly&&(k(),await(0,a.Y3)()),await(0,a.Y3)(),new Promise((e=>{if(!C.value)return e(!E.value);const r=(0,a.YP)(C,(()=>{e(!E.value),r()}))}))}function H(e){return(i.value||{})[e]}function N(){(0,j.dq)(d)?d.value=f:0===Object.keys(f).length?Object.keys(d).forEach((e=>{delete d[e]})):Object.assign(d,f)}return n&&g.$autoDirty&&(0,a.YP)(h,(()=>{x.value||L();const e=(0,j.SU)(d);e&&(e[n]=f[n])}),{flush:"sync"}),(0,j.qj)(R(R(R({},w),{},{$model:q,$dirty:x,$error:U,$errors:_,$invalid:E,$anyDirty:S,$pending:C,$touch:L,$reset:V,$path:c||A,$silentErrors:I,$validate:D,$commit:k},i&&{$getResultsForChild:H,$clearExternalResults:N,$validationGroups:O}),b))}class N{constructor(){this.storage=new Map}set(e,r,t){this.storage.set(e,{rules:r,result:t})}checkRulesValidity(e,r,t){const a=Object.keys(t),n=Object.keys(r);if(n.length!==a.length)return!1;const s=n.every((e=>a.includes(e)));return!!s&&n.every((e=>!r[e].$params||Object.keys(r[e].$params).every((a=>(0,j.SU)(t[e].$params[a])===(0,j.SU)(r[e].$params[a])))))}get(e,r){const t=this.storage.get(e);if(!t)return;const{rules:a,result:n}=t,s=this.checkRulesValidity(e,r,a),i=n.$unwatch?n.$unwatch:()=>({});return s?n:{$dirty:n.$dirty,$partial:!0,$unwatch:i}}}const M={COLLECT_ALL:!0,COLLECT_NONE:!1},Y=Symbol("vuelidate#injectChildResults"),G=Symbol("vuelidate#removeChildResults");function J(e){let{$scope:r,instance:t}=e;const n={},s=(0,j.iH)([]),i=(0,a.Fl)((()=>s.value.reduce(((e,r)=>(e[r]=(0,j.SU)(n[r]),e)),{})));function o(e,t){let{$registerAs:a,$scope:i,$stopPropagation:o}=t;o||r===M.COLLECT_NONE||i===M.COLLECT_NONE||r!==M.COLLECT_ALL&&r!==i||(n[a]=e,s.value.push(a))}function l(e){s.value=s.value.filter((r=>r!==e)),delete n[e]}t.__vuelidateInjectInstances=[].concat(t.__vuelidateInjectInstances||[],o),t.__vuelidateRemoveInstances=[].concat(t.__vuelidateRemoveInstances||[],l);const u=(0,a.f3)(Y,[]);(0,a.JJ)(Y,t.__vuelidateInjectInstances);const d=(0,a.f3)(G,[]);return(0,a.JJ)(G,t.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:u,removeValidationResultsFromParent:d}}function B(e){return new Proxy(e,{get(e,r){return"object"===typeof e[r]?B(e[r]):(0,a.Fl)((()=>e[r]))}})}let K=0;function Q(e,r){var t;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};1===arguments.length&&(n=e,e=void 0,r=void 0);let{$registerAs:s,$scope:i=M.COLLECT_ALL,$stopPropagation:o,$externalResults:l,currentVueInstance:u}=n;const d=u||(null===(t=(0,a.FN)())||void 0===t?void 0:t.proxy),c=d?d.$options:{};s||(K+=1,s=`_vuelidate_${K}`);const $=(0,j.iH)({}),v=new N,{childResults:p,sendValidationResultsToParent:m,removeValidationResultsFromParent:g}=d?J({$scope:i,instance:d}):{childResults:(0,j.iH)({})};if(!e&&c.validations){const e=c.validations;r=(0,j.iH)({}),(0,a.wF)((()=>{r.value=d,(0,a.YP)((()=>U(e)?e.call(r.value,new B(r.value)):e),(e=>{$.value=H({validations:e,state:r,childResults:p,resultsCache:v,globalConfig:n,instance:d,externalResults:l||d.vuelidateExternalResults})}),{immediate:!0})})),n=c.validationsConfig||n}else{const t=(0,j.dq)(e)||C(e)?e:(0,j.qj)(e||{});(0,a.YP)(t,(e=>{$.value=H({validations:e,state:r,childResults:p,resultsCache:v,globalConfig:n,instance:null!==d&&void 0!==d?d:{},externalResults:l})}),{immediate:!0})}return d&&(m.forEach((e=>e($,{$registerAs:s,$scope:i,$stopPropagation:o}))),(0,a.Jd)((()=>g.forEach((e=>e(s)))))),(0,a.Fl)((()=>R(R({},(0,j.SU)($.value)),p.value)))}function X(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function ee(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?X(Object(t),!0).forEach((function(r){re(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function re(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function te(e){return"function"===typeof e}function ae(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)}function ne(e){return te(e.$validator)?ee({},e):{$validator:e}}function se(e){return"object"===typeof e?e.$valid:e}function ie(e){return e.$validator||e}function oe(e,r){if(!ae(e))throw new Error('[@vuelidate/validators]: First parameter to "withParams" should be an object, provided '+typeof e);if(!ae(r)&&!te(r))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=ne(r);return t.$params=ee(ee({},t.$params||{}),e),t}function le(e,r){if(!te(e)&&"string"!==typeof(0,j.SU)(e))throw new Error('[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided '+typeof e);if(!ae(r)&&!te(r))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=ne(r);return t.$message=e,t}function ue(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const t=ne(e);return ee(ee({},t),{},{$async:!0,$watchTargets:r})}function de(e){return{$validator(r){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return(0,j.SU)(r).reduce(((r,t,n)=>{const s=Object.entries(t).reduce(((r,s)=>{let[i,o]=s;const l=e[i]||{},u=Object.entries(l).reduce(((e,r)=>{let[s,l]=r;const u=ie(l),d=u.call(this,o,t,n,...a),c=se(d);if(e.$data[s]=d,e.$data.$invalid=!c||!!e.$data.$invalid,e.$data.$error=e.$data.$invalid,!c){let r=l.$message||"";const t=l.$params||{};"function"===typeof r&&(r=r({$pending:!1,$invalid:!c,$params:t,$model:o,$response:d})),e.$errors.push({$property:i,$message:r,$params:t,$response:d,$model:o,$pending:!1,$validator:s})}return{$valid:e.$valid&&c,$data:e.$data,$errors:e.$errors}}),{$valid:!0,$data:{},$errors:[]});return r.$data[i]=u.$data,r.$errors[i]=u.$errors,{$valid:r.$valid&&u.$valid,$data:r.$data,$errors:r.$errors}}),{$valid:!0,$data:{},$errors:{}});return{$valid:r.$valid&&s.$valid,$data:r.$data.concat(s.$data),$errors:r.$errors.concat(s.$errors)}}),{$valid:!0,$data:[],$errors:[]})},$message:e=>{let{$response:r}=e;return r?r.$errors.map((e=>Object.values(e).map((e=>e.map((e=>e.$message)))).reduce(((e,r)=>e.concat(r)),[]))):[]}}}const ce=e=>{if(e=(0,j.SU)(e),Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===typeof e){for(let r in e)return!0;return!1}return!!String(e).length},$e=e=>(e=(0,j.SU)(e),Array.isArray(e)?e.length:"object"===typeof e?Object.keys(e).length:String(e).length);function ve(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return e=>(e=(0,j.SU)(e),!ce(e)||r.every((r=>(r.lastIndex=0,r.test(e)))))}j.SU,ve(/^[a-zA-Z]*$/),ve(/^[a-zA-Z0-9]*$/),ve(/^\d*(\.\d+)?$/);const pe=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var me=ve(pe),ge={$validator:me,$message:"Value is not a valid email address",$params:{type:"email"}};function he(e){return r=>!ce(r)||$e(r)>=(0,j.SU)(e)}function fe(e){return{$validator:he(e),$message:e=>{let{$params:r}=e;return`This field should be at least ${r.min} characters long`},$params:{min:e,type:"minLength"}}}function ye(e){return"string"===typeof e&&(e=e.trim()),ce(e)}var we={$validator:ye,$message:"Value is required",$params:{type:"required"}};function be(e){return r=>(0,j.SU)(r)===(0,j.SU)(e)}function Oe(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"other";return{$validator:be(e),$message:e=>`The value must be equal to the ${r} value`,$params:{equalTo:e,otherName:r,type:"sameAs"}}}const xe=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;ve(xe);ve(/(^[0-9]*$)|(^-[0-9]+$)/),ve(/^[-]?\d*(\.\d+)?$/);var je=t(3786),_e={components:{InputText:h.Z,TheButton:f.Z,LoginRegErrors:x},name:"LoginRegLog",data(){return{email:"",password:"",errors:[]}},setup(){return{v$:Q()}},validations(){return{email:{email:ge,required:we},password:{required:we,minLength:fe(8)}}},watch:{email(){this.v$.email.$touch()},password(){this.v$.password.$touch()}},methods:{async singIn(){const e=await this.v$.$validate();if(e){const{data:e,error:r}=await je.O.auth.signInWithPassword({email:this.email,password:this.password});r?(this.errors=[],this.errors.push("Неправильные данные")):this.$router.push("/")}else this.errors=[],!this.v$.email.email.$response&&this.errors.push("E-mail введён некорректно"),!this.v$.password.minLength.$response&&this.errors.push("Пароль менее 8-ми символов")}}};const Re=(0,d.Z)(_e,[["render",g]]);var Ee=Re;const Se={class:"log-reg__registration--inside"},Ue=(0,a._)("h1",null,"Регистрация",-1);function Ce(e,r,t,n,s,i){const o=(0,a.up)("input-text"),l=(0,a.up)("the-button"),u=(0,a.up)("login-reg-errors");return(0,a.wg)(),(0,a.iD)("div",Se,[Ue,(0,a.Wm)(o,{type:"text",label:"Имя",modelValue:s.username,"onUpdate:modelValue":r[0]||(r[0]=e=>s.username=e),modelModifiers:{trim:!0},dirty:n.v$.username.$dirty,valid:n.v$.username.required.$response&&n.v$.username.minLength.$response,labelInvalid:!n.v$.username.required.$response},null,8,["modelValue","dirty","valid","labelInvalid"]),(0,a.Wm)(o,{type:"email",label:"E-mail",modelValue:s.email,"onUpdate:modelValue":r[1]||(r[1]=e=>s.email=e),modelModifiers:{trim:!0},dirty:n.v$.email.$dirty,valid:n.v$.email.required.$response&&n.v$.email.email.$response,labelInvalid:!n.v$.email.required.$response},null,8,["modelValue","dirty","valid","labelInvalid"]),(0,a.Wm)(o,{type:"password",label:"Пароль",modelValue:s.password,"onUpdate:modelValue":r[2]||(r[2]=e=>s.password=e),modelModifiers:{trim:!0},dirty:n.v$.password.$dirty,valid:n.v$.password.required.$response&&n.v$.password.minLength.$response,labelInvalid:!n.v$.password.required.$response},null,8,["modelValue","dirty","valid","labelInvalid"]),(0,a.Wm)(o,{type:"password",label:"Повторный пароль",modelValue:s.passwordConf,"onUpdate:modelValue":r[3]||(r[3]=e=>s.passwordConf=e),modelModifiers:{trim:!0},dirty:n.v$.passwordConf.$dirty,valid:n.v$.passwordConf.required.$response&&n.v$.passwordConf.sameAs.$response,labelInvalid:!n.v$.passwordConf.required.$response},null,8,["modelValue","dirty","valid","labelInvalid"]),(0,a.Wm)(l,{text:"Зарегистрироваться",onClick:r[4]||(r[4]=e=>i.singUp())}),(0,a.Wm)(u,{errors:s.errors},null,8,["errors"])])}var Le={components:{InputText:h.Z,TheButton:f.Z,LoginRegErrors:x},name:"LoginRegReg",data(){return{username:"",email:"",password:"",passwordConf:"",errors:[]}},setup(){return{v$:Q()}},validations(){return{username:{required:we,minLength:fe(4)},email:{email:ge,required:we},password:{required:we,minLength:fe(8)},passwordConf:{required:we,sameAs:Oe(this.password)}}},watch:{username(){this.v$.username.$touch()},email(){this.v$.email.$touch()},password(){this.v$.password.$touch()},passwordConf(){this.v$.passwordConf.$touch()}},methods:{async singUp(){const e=await this.v$.$validate();if(e){const{data:e,error:r}=await je.O.auth.signUp({email:this.email,password:this.password,options:{data:{username:this.username}}});r?(this.errors=[],this.errors.push("TE-mail занят")):this.$router.push("/")}else this.errors=[],!this.v$.username.minLength.$response&&this.errors.push("Имя менее 4-х символов"),!this.v$.email.email.$response&&this.errors.push("E-mail введён некорректно"),!this.v$.password.minLength.$response&&this.errors.push("Пароль менее 8-ми символов"),!this.v$.passwordConf.sameAs.$response&&this.errors.push("Пароли не совпадают")}}};const Pe=(0,d.Z)(Le,[["render",Ce]]);var Fe=Pe,Ve={components:{LoginRegNav:$,LoginRegLog:Ee,LoginRegReg:Fe},name:"LayoutLogin",data(){return{isReg:!1}}};const Ie=(0,d.Z)(Ve,[["render",i]]);var ke=Ie}}]);
//# sourceMappingURL=380.c3d88a8b.js.map