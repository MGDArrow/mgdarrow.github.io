{"version":3,"file":"js/364.e94d5cad.js","mappings":"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","sources":["webpack://funerals.ru/./src/layouts/LayoutBasic.vue","webpack://funerals.ru/./src/components/AppNavBar.vue","webpack://funerals.ru/./src/components/AppNavBar.vue?383f","webpack://funerals.ru/./src/components/AppDate.vue","webpack://funerals.ru/./src/components/AppDate.vue?c4d4","webpack://funerals.ru/./src/layouts/LayoutBasic.vue?40c0"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"appBlockDate\">\r\n      <app-date></app-date>\r\n    </div>\r\n    <div class=\"appBlockMain\">\r\n      <router-view v-slot=\"{ Component }\">\r\n        <transition name=\"slide\">\r\n          <component :is=\"Component\" />\r\n        </transition>\r\n      </router-view>\r\n    </div>\r\n    <div class=\"appBlockNav\">\r\n      <app-nav-bar></app-nav-bar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppNavBar from \"@/components/AppNavBar.vue\";\r\nimport AppDate from \"@/components/AppDate.vue\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\n\r\nexport default {\r\n  components: { AppNavBar, AppDate },\r\n  name: \"LayoutBasic\",\r\n\r\n  beforeMount() {\r\n    this.$store.dispatch(\"SET_TEMPLS\");\r\n    this.$store.dispatch(\"SET_CEMETERYS\");\r\n    this.$store.dispatch(\"SET_SERVICES\");\r\n    this.$store.dispatch(\"SET_FUNERALS_PHONE\");\r\n    this.$store.dispatch(\"SET_FUNERALS_ALLOCATION\");\r\n\r\n    supabase\r\n      .channel(\"any\")\r\n      .on(\"postgres_changes\", { event: \"*\", schema: \"*\" }, (payload) => {\r\n        if (payload.table == \"TEMPL\") {\r\n          this.$store.dispatch(\"SET_TEMPLS\");\r\n        }\r\n        if (payload.table == \"CEMETERY\") {\r\n          this.$store.dispatch(\"SET_CEMETERYS\");\r\n        }\r\n        if (payload.table == \"SERVICE\") {\r\n          this.$store.dispatch(\"SET_SERVICES\");\r\n        }\r\n        if (payload.table == \"FUNERAL\") {\r\n          this.$store.dispatch(\"SET_FUNERALS_PHONE\");\r\n          this.$store.dispatch(\"SET_FUNERALS_ALLOCATION\");\r\n          this.$store.dispatch(\"SET_FUNERALS_READ\");\r\n        }\r\n      })\r\n      .subscribe();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.appBlockDate {\r\n  width: 100%;\r\n  height: calc(8dvh - 10px);\r\n}\r\n.appBlockMain {\r\n  width: calc(100% - 10px);\r\n  height: calc(100dvh - (8dvh - 10px) * 2 - 20px);\r\n  margin: 5px;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n.appBlockNav {\r\n  width: 100%;\r\n  height: calc(8dvh - 10px);\r\n}\r\n</style>","<template>\r\n  <nav class=\"funerals-menu\">\r\n    <router-link to=\"/read\" class=\"funerals-menu__point\">\r\n      <font-awesome-icon :icon=\"['fas', 'list-ul']\" size=\"xs\"\r\n    /></router-link>\r\n    <router-link to=\"/statistic\" class=\"funerals-menu__point\">\r\n      <font-awesome-icon :icon=\"['fas', 'chart-simple']\" size=\"xs\"\r\n    /></router-link>\r\n    <router-link to=\"/\" class=\"funerals-menu__point\">\r\n      <font-awesome-icon :icon=\"['fas', 'plus']\" size=\"xs\"\r\n    /></router-link>\r\n    <router-link to=\"/allocation\" class=\"funerals-menu__point\">\r\n      <div class=\"point-check\" v-if=\"!!allocationLength\">\r\n        <span>{{ allocationLength }}</span>\r\n      </div>\r\n      <font-awesome-icon :icon=\"['fas', 'shuffle']\" size=\"xs\"\r\n    /></router-link>\r\n    <router-link to=\"/phone\" class=\"funerals-menu__point\"\r\n      ><div class=\"point-check\" v-if=\"!!phoneLength\">\r\n        <span>{{ phoneLength }}</span>\r\n      </div>\r\n      <font-awesome-icon :icon=\"['fas', 'phone']\" size=\"xs\"\r\n    /></router-link>\r\n    <router-link to=\"/settings\" class=\"funerals-menu__point\"\r\n      ><font-awesome-icon :icon=\"['fas', 'gear']\" size=\"xs\"\r\n    /></router-link>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AppNavBar\",\r\n  computed: {\r\n    phoneLength() {\r\n      return this.$store.getters.GET_FUNERALS_PHONE_LENGHT;\r\n    },\r\n    allocationLength() {\r\n      return this.$store.getters.GET_FUNERALS_ALLOCATION_LENGHT;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.funerals-menu {\r\n  width: calc(100% - 10px);\r\n  height: calc(8dvh - 10px);\r\n  margin: 5px;\r\n  display: flex;\r\n  font-size: 1.7em;\r\n  line-height: calc(8dvh - 15px);\r\n  text-align: center;\r\n  & .funerals-menu__point {\r\n    margin-right: 5px;\r\n    background: $col-bg-hover;\r\n    width: calc((100% / 6));\r\n    height: calc(8dvh - 10px);\r\n    transition: 0.3s ease-in-out;\r\n    position: relative;\r\n    &:last-child {\r\n      margin-right: 0px;\r\n      &.router-link-active {\r\n        background: $col-basic;\r\n      }\r\n    }\r\n    &.router-link-exact-active {\r\n      background: $col-basic;\r\n    }\r\n  }\r\n}\r\n.point-check {\r\n  position: absolute;\r\n  display: block;\r\n  width: 12px;\r\n  height: 12px;\r\n  outline: 1px solid $col-bg-hover;\r\n  background: $col-basic;\r\n  border-radius: 12px;\r\n  top: 2px;\r\n  right: 2px;\r\n  font-size: 10px;\r\n  & span {\r\n    position: relative;\r\n    top: -14px;\r\n  }\r\n}\r\n</style>","import { render } from \"./AppNavBar.vue?vue&type=template&id=35dc2ca0\"\nimport script from \"./AppNavBar.vue?vue&type=script&lang=js\"\nexport * from \"./AppNavBar.vue?vue&type=script&lang=js\"\n\nimport \"./AppNavBar.vue?vue&type=style&index=0&id=35dc2ca0&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"get-date\">\r\n    <div class=\"get-date__menu-date\">\r\n      <!-- Текущая дата -->\r\n      <div\r\n        class=\"menu-date__text\"\r\n        :class=\"{ 'js-menu-date__text--active': isShothToday }\"\r\n        @click=\"\r\n          $store.commit('SET_TODAY');\r\n          getMonthUpd();\r\n        \"\r\n      >\r\n        {{ $store.getters.GET_SHORT }}\r\n      </div>\r\n      <!-- День назад -->\r\n      <div\r\n        class=\"menu-date__back--btn\"\r\n        @click=\"\r\n          $store.commit('UPD_DAY', -1);\r\n          getMonthUpd();\r\n        \"\r\n      >\r\n        <font-awesome-icon :icon=\"['fas', 'caret-left']\" />\r\n      </div>\r\n      <!-- День вперёд -->\r\n      <div\r\n        class=\"menu-date__next--btn\"\r\n        @click=\"\r\n          $store.commit('UPD_DAY', 1);\r\n          getMonthUpd();\r\n        \"\r\n      >\r\n        <font-awesome-icon :icon=\"['fas', 'caret-left']\" rotation=\"180\" />\r\n      </div>\r\n      <!-- Отркрытие календаря -->\r\n      <div\r\n        class=\"menu-date__calendar--btn\"\r\n        :class=\"{ 'js-calendar--btn--act': openCalendar }\"\r\n        @click=\"openCalendar = !openCalendar\"\r\n      >\r\n        <font-awesome-icon :icon=\"['fas', 'calendar-days']\" />\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"get-date__calendar\"\r\n      :class=\"{ 'js-calendar--open': openCalendar }\"\r\n    >\r\n      <div class=\"calendar__menu\">\r\n        <div class=\"menu__back--btn\" @click=\"--dateCalendarObj.month\">\r\n          <font-awesome-icon :icon=\"['fas', 'caret-left']\" />\r\n        </div>\r\n        <div\r\n          class=\"menu__text\"\r\n          :class=\"{ 'js-menu__text--active': isMonthNow }\"\r\n          @click=\"getMonthNow()\"\r\n        >\r\n          {{ getShortMonth }}\r\n        </div>\r\n        <div class=\"menu__next--btn\" @click=\"++dateCalendarObj.month\">\r\n          <font-awesome-icon :icon=\"['fas', 'caret-left']\" rotation=\"180\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"calendar__weakdays\">\r\n        <div class=\"weekdays__day\" v-for=\"(daysW, i) in daysWeak\" :key=\"i\">\r\n          {{ daysW }}\r\n        </div>\r\n      </div>\r\n      <div class=\"calendar__days\">\r\n        <div\r\n          class=\"day\"\r\n          :class=\"{\r\n            'another-month':\r\n              el.isMonthStyle == 'backMonth' || el.isMonthStyle == 'nextMonth',\r\n            'today-cell': isCellToday(el),\r\n            'active-cell': isCellActive(el.day) && el.isMonthStyle == 'isMonth',\r\n          }\"\r\n          v-for=\"el in getDateCells\"\r\n          :key=\"el.id\"\r\n          @click=\"clickSetCell(el)\"\r\n        >\r\n          {{ el.day }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { DaysWeakRus, MonthsFull } from \"@/assets/daysName\";\r\n\r\nexport default {\r\n  name: \"AppDate\",\r\n  data() {\r\n    return {\r\n      openCalendar: false,\r\n      daysWeak: DaysWeakRus,\r\n      monthsFull: MonthsFull,\r\n      dateCalendarObj: undefined,\r\n      calendarToday: undefined,\r\n    };\r\n  },\r\n  computed: {\r\n    isShothToday() {\r\n      let stateToday = this.$store.getters.GET_DATE_OBJ;\r\n      return (\r\n        new Date(stateToday.year, stateToday.month, stateToday.day).getTime() ==\r\n        new Date(\r\n          this.calendarToday.year,\r\n          this.calendarToday.month,\r\n          this.calendarToday.day\r\n        ).getTime()\r\n      );\r\n    },\r\n    isMonthNow() {\r\n      return (\r\n        this.dateCalendarObj.year === this.calendarToday.year &&\r\n        this.dateCalendarObj.month === this.calendarToday.month\r\n      );\r\n    },\r\n    getShortMonth() {\r\n      let dateNow = new Date(\r\n          this.dateCalendarObj.year,\r\n          this.dateCalendarObj.month\r\n        ),\r\n        yearNow = dateNow.getFullYear(),\r\n        monthNow = dateNow.getMonth();\r\n      return `${this.monthsFull[monthNow]} ${yearNow}`;\r\n    },\r\n    getDateCells() {\r\n      let dateNow = this.dateCalendarObj,\r\n        dayInMonth =\r\n          (new Date(dateNow.year, dateNow.month + 1, 1) -\r\n            new Date(dateNow.year, dateNow.month, 1)) /\r\n          86400000,\r\n        dayInLastMonth =\r\n          (new Date(dateNow.year, dateNow.month, 1) -\r\n            new Date(dateNow.year, dateNow.month - 1, 1)) /\r\n          86400000,\r\n        weekDayFirst = new Date(dateNow.year, dateNow.month, 1).getDay();\r\n      weekDayFirst = weekDayFirst === 0 ? 6 : --weekDayFirst;\r\n\r\n      let cells = [];\r\n      // Добавляем прошлый месяц\r\n      for (let i = weekDayFirst; i > 0; i--) {\r\n        cells.push({ day: dayInLastMonth - i + 1, isMonthStyle: \"backMonth\" });\r\n      }\r\n      // Добавляем текущий месяц\r\n      for (let i = 1; i <= dayInMonth; i++) {\r\n        cells.push({ day: i, isMonthStyle: \"isMonth\" });\r\n      }\r\n      // Добавляем следующий месяц\r\n      for (let i = 1; i <= 42 - dayInMonth - weekDayFirst; i++) {\r\n        cells.push({ day: i, isMonthStyle: \"nextMonth\" });\r\n      }\r\n\r\n      return cells;\r\n    },\r\n  },\r\n  methods: {\r\n    getMonthNow() {\r\n      this.dateCalendarObj.year = this.calendarToday.year;\r\n      this.dateCalendarObj.month = this.calendarToday.month;\r\n    },\r\n    getMonthUpd() {\r\n      let stateToday = this.$store.getters.GET_DATE_OBJ;\r\n\r\n      this.dateCalendarObj.year = new Date(\r\n        stateToday.year,\r\n        stateToday.month,\r\n        stateToday.day\r\n      ).getFullYear();\r\n      this.dateCalendarObj.month = new Date(\r\n        stateToday.year,\r\n        stateToday.month,\r\n        stateToday.day\r\n      ).getMonth();\r\n    },\r\n    isCellActive(day) {\r\n      let stateToday = this.$store.getters.GET_DATE_OBJ;\r\n      return (\r\n        new Date(stateToday.year, stateToday.month, stateToday.day).getTime() ==\r\n        new Date(\r\n          this.dateCalendarObj.year,\r\n          this.dateCalendarObj.month,\r\n          day\r\n        ).getTime()\r\n      );\r\n    },\r\n    isCellToday(el) {\r\n      // !TODO решить проблему с перелистыванием годов.\r\n      return (\r\n        (el.day == this.calendarToday.day &&\r\n          this.dateCalendarObj.month == this.calendarToday.month &&\r\n          this.dateCalendarObj.year == this.calendarToday.year &&\r\n          el.isMonthStyle == \"isMonth\") ||\r\n        (el.day == this.calendarToday.day &&\r\n          this.dateCalendarObj.month - 1 == this.calendarToday.month &&\r\n          this.dateCalendarObj.year == this.calendarToday.year &&\r\n          el.isMonthStyle == \"backMonth\") ||\r\n        (el.day == this.calendarToday.day &&\r\n          this.dateCalendarObj.month + 1 == this.calendarToday.month &&\r\n          this.dateCalendarObj.year == this.calendarToday.year &&\r\n          el.isMonthStyle == \"nextMonth\")\r\n      );\r\n    },\r\n    clickSetCell(el) {\r\n      if (el.isMonthStyle == \"backMonth\") {\r\n        this.dateCalendarObj.month =\r\n          this.dateCalendarObj.month != 0 ? --this.dateCalendarObj.month : 11;\r\n\r\n        this.dateCalendarObj.year =\r\n          this.dateCalendarObj.month == 11\r\n            ? --this.dateCalendarObj.year\r\n            : this.dateCalendarObj.year;\r\n      }\r\n      if (el.isMonthStyle == \"nextMonth\") {\r\n        this.dateCalendarObj.month =\r\n          this.dateCalendarObj.month != 11 ? ++this.dateCalendarObj.month : 0;\r\n\r\n        this.dateCalendarObj.year =\r\n          this.dateCalendarObj.month == 0\r\n            ? ++this.dateCalendarObj.year\r\n            : this.dateCalendarObj.year;\r\n      }\r\n\r\n      let payload = {\r\n        year: this.dateCalendarObj.year,\r\n        month: this.dateCalendarObj.month,\r\n        day: el.day,\r\n      };\r\n\r\n      this.$store.commit(\"UPD_ALL_DATE\", payload);\r\n      this.openCalendar = false;\r\n    },\r\n  },\r\n  created() {\r\n    this.$store.commit(\"SET_TODAY\");\r\n    this.$store.commit(\"UPD_DAY\", 1);\r\n\r\n    let toDay = new Date(),\r\n      yearToday = toDay.getFullYear(),\r\n      monthToday = toDay.getMonth(),\r\n      dayToday = toDay.getDate();\r\n    this.dateCalendarObj = { year: yearToday, month: monthToday };\r\n    this.calendarToday = { year: yearToday, month: monthToday, day: dayToday };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.get-date__menu-date {\r\n  width: calc(100% - 10px);\r\n  height: calc(8dvh - 10px);\r\n  margin: 5px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  font-size: 1.7em;\r\n  font-weight: 600;\r\n  line-height: calc(8dvh - 15px);\r\n  text-align: center;\r\n  & div {\r\n    margin-right: 5px;\r\n    background: $col-bg-hover;\r\n    width: calc(8dvh - 10px);\r\n  }\r\n  & .menu-date__text {\r\n    width: calc(100% - 24dvh + 15px);\r\n    &.js-menu-date__text--active {\r\n      color: $col-basic;\r\n    }\r\n  }\r\n  & .menu-date__calendar--btn {\r\n    transition: 0.3s ease-in-out;\r\n    margin: 0;\r\n    &.js-calendar--btn--act {\r\n      color: $col-basic;\r\n    }\r\n  }\r\n}\r\n.get-date__calendar {\r\n  width: calc(100% - 10px);\r\n  height: 0px;\r\n  margin: 0 5px;\r\n  position: absolute;\r\n  top: calc(8dvh);\r\n  background: $col-bg-hover;\r\n  overflow: hidden;\r\n  transition: 0.3s ease-in-out;\r\n  z-index: 9990;\r\n  &.js-calendar--open {\r\n    height: calc((100vw - 10px) / 7 * 8);\r\n  }\r\n  & .calendar__menu {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    height: calc((100vw - 10px) / 7);\r\n    line-height: calc((100vw - 10px) / 7 - 5px);\r\n    text-align: center;\r\n    font-size: 1.6em;\r\n    font-weight: 400;\r\n    border-bottom: 5px solid $col-bg-dark;\r\n    & div {\r\n      width: calc(100% / 7);\r\n    }\r\n    & .menu__text {\r\n      width: calc(100% / 7 * 5);\r\n      border-left: 5px solid $col-bg-dark;\r\n      border-right: 5px solid $col-bg-dark;\r\n      &.js-menu__text--active {\r\n        color: $col-basic;\r\n      }\r\n    }\r\n  }\r\n  & .calendar__weakdays {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    height: calc((100vw - 10px) / 7);\r\n    line-height: calc((100vw - 10px) / 7 - 5px);\r\n    text-align: center;\r\n    font-size: 1.6em;\r\n    font-weight: 300;\r\n    border-bottom: 5px solid $col-bg-dark;\r\n    & div {\r\n      width: calc(100% / 7);\r\n      &:last-child {\r\n        color: $col-basic;\r\n      }\r\n    }\r\n  }\r\n  & .calendar__days {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    height: calc((100vw - 10px) / 7);\r\n    line-height: calc((100vw - 10px) / 7 - 5px);\r\n    text-align: center;\r\n    font-size: 1.5em;\r\n    font-weight: 200;\r\n    & div {\r\n      width: calc(100% / 7);\r\n      height: calc((100vw - 10px) / 7);\r\n\r\n      &:nth-child(7n) {\r\n        color: $col-basic;\r\n      }\r\n      &.another-month {\r\n        opacity: 0.4;\r\n      }\r\n      &.today-cell {\r\n        background: $col-basic;\r\n      }\r\n      &.active-cell {\r\n        border: 2px solid $col-basic;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./AppDate.vue?vue&type=template&id=39a76996&scoped=true\"\nimport script from \"./AppDate.vue?vue&type=script&lang=js\"\nexport * from \"./AppDate.vue?vue&type=script&lang=js\"\n\nimport \"./AppDate.vue?vue&type=style&index=0&id=39a76996&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-39a76996\"]])\n\nexport default __exports__","import { render } from \"./LayoutBasic.vue?vue&type=template&id=26c8cd2d\"\nimport script from \"./LayoutBasic.vue?vue&type=script&lang=js\"\nexport * from \"./LayoutBasic.vue?vue&type=script&lang=js\"\n\nimport \"./LayoutBasic.vue?vue&type=style&index=0&id=26c8cd2d&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","_createVNode","_component_app_date","_hoisted_2","_component_router_view","Component","_Transition","name","_createBlock","_resolveDynamicComponent","_hoisted_3","_component_app_nav_bar","_component_router_link","to","_component_font_awesome_icon","icon","size","$options","allocationLength","_toDisplayString","phoneLength","computed","this","$store","getters","GET_FUNERALS_PHONE_LENGHT","GET_FUNERALS_ALLOCATION_LENGHT","__exports__","_normalizeClass","isShothToday","onClick","_cache","$event","_ctx","commit","getMonthUpd","GET_SHORT","rotation","$data","openCalendar","dateCalendarObj","month","isMonthNow","getMonthNow","getShortMonth","_hoisted_4","_Fragment","_renderList","daysWeak","daysW","i","key","_hoisted_5","getDateCells","el","isMonthStyle","isCellToday","isCellActive","day","id","clickSetCell","_hoisted_6","data","DaysWeakRus","monthsFull","MonthsFull","undefined","calendarToday","stateToday","GET_DATE_OBJ","Date","year","getTime","dateNow","yearNow","getFullYear","monthNow","getMonth","dayInMonth","dayInLastMonth","weekDayFirst","getDay","cells","push","methods","payload","created","toDay","yearToday","monthToday","dayToday","getDate","components","AppNavBar","AppDate","beforeMount","dispatch","supabase","channel","on","event","schema","table","subscribe","render"],"sourceRoot":""}