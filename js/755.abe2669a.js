"use strict";(self["webpackChunkfunerals_ru"]=self["webpackChunkfunerals_ru"]||[]).push([[755],{6794:function(e,t,s){s.d(t,{Z:function(){return m}});var n=s(3396),i=s(7139);const a={class:"read-funeral"},l={class:"funeral__time"},r={class:"funeral__info"},o={key:0,class:"funeral-info__surname"},c={key:1,class:"funeral-info__templ"},u={class:"funeral__status"},f={key:0,class:"funeral__comment"};function p(e,t,s,p,h,d){const _=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",l,(0,i.zw)(s.funeral.time),1),(0,n._)("div",r,[(0,n._)("div",{class:(0,i.C_)(["funeral-info__location",{"funeral-info__location--ws":!s.funeral.surname}])},(0,i.zw)(s.funeral.locationTempl||s.funeral.locationCemetery||s.funeral.locationAddress),3),s.funeral.surname?((0,n.wg)(),(0,n.iD)("div",o,(0,i.zw)(s.funeral.surname),1)):(0,n.kq)("",!0),s.funeral.locationTempl!==s.funeral.templ?((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("span",{class:(0,i.C_)({"funeral-red":"false"===s.funeral.templ})},(0,i.zw)(d.isTempl(s.funeral.templ)),3)])):(0,n.kq)("",!0)]),(0,n._)("div",u,[(0,n.Wm)(_,{icon:["fab","bitcoin"],class:(0,i.C_)({"funeral-red":!s.funeral.payment,"funeral-green":s.funeral.payment})},null,8,["class"]),null!==s.funeral.phoneLocation?((0,n.wg)(),(0,n.j4)(_,{key:0,icon:["fas","circle-check"],class:(0,i.C_)({"funeral-red":"false"===s.funeral.phoneLocation,"funeral-green":"true"==s.funeral.phoneLocation})},null,8,["class"])):(0,n.kq)("",!0),(0,n.Wm)(_,{icon:["fas","circle-check"],class:(0,i.C_)({"funeral-red":!s.funeral.phoneTempl,"funeral-green":s.funeral.phoneTempl})},null,8,["class"])]),s.funeral.comment?((0,n.wg)(),(0,n.iD)("div",f," *"+(0,i.zw)(s.funeral.comment),1)):(0,n.kq)("",!0)])}var h={name:"ReadPoint",props:["funeral"],methods:{isTempl(e){return"false"===e?"Не распределено":e}}},d=s(89);const _=(0,d.Z)(h,[["render",p]]);var m=_},5755:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var n=s(3396),i=s(7139);const a={class:"app__phone"},l=(0,n._)("h1",null,"Обзвон",-1);function r(e,t,s,r,o,c){const u=(0,n.up)("read-point"),f=(0,n.up)("the-swiper-phone");return(0,n.wg)(),(0,n.iD)("div",a,[l,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.getFunerals,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"phone__date",key:e.id},[(0,n._)("h2",null,(0,i.zw)(t),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e,(e=>((0,n.wg)(),(0,n.j4)(f,{key:e.id,location:e.phoneLocation,onSwipe:t=>c.getSwipe(t,e.id)},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{funeral:e},null,8,["funeral"])])),_:2},1032,["location","onSwipe"])))),128))])))),128))])}s(7658);var o=s(6794);const c={class:"js-swiper",ref:"swiperBlock"},u={class:"js-swiper__delete",ref:"delete"},f={class:"js-swiper__edit",ref:"edit"},p={class:"js-swiper__main",ref:"swiper"};function h(e,t,s,i,a,l){const r=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",u,[(0,n.Wm)(r,{icon:["fas","person-rays"]})],512),(0,n._)("div",f,[(0,n.Wm)(r,{icon:["fas","hospital"]})],512),(0,n._)("div",p,[(0,n.WI)(e.$slots,"default",{},void 0,!0)],512)],512)}var d={name:"TheSwiperPhone",props:["location"],mounted(){let e,t,s,n,i=this.$refs.swiper,a=null;i.addEventListener("touchstart",(n=>{e=i.offsetWidth,t=n.touches[0].clientX,s=n.touches[0].clientY,i.style.transition="none",this.$refs.delete.style.transition="none",this.$refs.edit.style.transition="none",this.$refs.edit.style.height=`${i.clientHeight}px`,this.$refs.delete.style.height=`${i.clientHeight}px`})),i.addEventListener("touchmove",(l=>{let r=l.touches[0].clientX,o=l.touches[0].clientY;n=r-t,a=o-s,Math.abs(n)>e/8&&Math.abs(n)>2*Math.abs(a)&&(n>0?(i.style.translate=n-e/8+"px",this.$refs.delete.style.width=Math.abs(n)-e/8+"px",this.$refs.edit.style.width="0px"):this.$props.location&&(i.style.translate=`${n+e/8}px`,this.$refs.delete.style.width="0px",this.$refs.edit.style.width=Math.abs(n)-e/8+"px"),e/2<Math.abs(n)?(this.$refs.delete.style.opacity="1",this.$refs.edit.style.opacity="1"):(this.$refs.delete.style.opacity="0.8",this.$refs.edit.style.opacity="0.8"))})),i.addEventListener("touchend",(()=>{i.style.transition="0.4s ease-in-out",i.style.translate="0px",this.$refs.delete.style.transition="0.4s ease-in-out",this.$refs.delete.style.width="0px",this.$refs.edit.style.transition="0.4s ease-in-out",this.$refs.edit.style.width="0px",e/2<Math.abs(n)&&(n<0?this.$props.location&&this.$emit("swipe","2b"):this.$emit("swipe","templ"))}))}},_=s(89);const m=(0,_.Z)(d,[["render",h],["__scopeId","data-v-7acace38"]]);var w=m,y={name:"AppFunPhone",components:{ReadPoint:o.Z,TheSwiperPhone:w},computed:{getFunerals(){let e=this.$store.getters.GET_FUNERALS_PHONE;const t=e.reduce(((e,t)=>{if(this.$store.getters.GET_DATE_SUPABASE==t.date){const{locationTempl:s}=t,{locationCemetery:n}=t,{locationAddress:i}=t;s&&(e[s]=e[s]??[],e[s].push(t)),n&&(e[n]=e[n]??[],e[n].push(t)),i&&(e[i]=e[i]??[],e[i].push(t))}return e}),{});return t}},methods:{async getSwipe(e,t){"templ"===e?this.$store.dispatch("EDIT_FUNERALS_PHONE",[{phoneTempl:!0},t]):this.$store.dispatch("EDIT_FUNERALS_PHONE",[{phoneLocation:!0},t])}}};const $=(0,_.Z)(y,[["render",r]]);var v=$}}]);
//# sourceMappingURL=755.abe2669a.js.map